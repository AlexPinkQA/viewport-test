<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Pixi.js iOS Pseudo Fullscreen</title>
<style>
  html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#555555; }
  body { padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left); -webkit-user-select:none; -webkit-touch-callout:none; -webkit-tap-highlight-color:transparent;}
  #game-container { width:100%; height:100%; position:relative;}
  #fullscreen-btn {
    position:absolute;
    bottom:20px; left:50%; transform:translateX(-50%);
    padding:12px 20px; font-size:16px;
    background:#00ff90; color:#000; border:none; border-radius:8px; z-index:9999; cursor:pointer;
  }
  #hint {
    position:absolute; top:60px; left:50%; transform:translateX(-50%);
    color:#fff; font-family:monospace; font-size:14px; text-align:center; z-index:9998;
  }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
</head>
<body>
<div id="game-container"></div>
<button id="fullscreen-btn">Activate Pseudo-Fullscreen</button>
<div id="hint">After pressing the button, swipe up/down on the canvas to hide Safari bars.</div>

<script>
const app = new PIXI.Application({
  width: window.innerWidth,
  height: window.innerHeight,
  backgroundColor: 0x555555
});
document.getElementById('game-container').appendChild(app.view);

// Info text
const infoText = new PIXI.Text(`ðŸªŸ Actual game window size: ${window.innerWidth} Ã— ${window.innerHeight}`, {
  fontFamily: 'monospace',
  fontSize: 20,
  fill: 0x00ff90,
  wordWrap: true,
  wordWrapWidth: window.innerWidth - 40,
  align: 'center'
});
infoText.anchor.set(0.5, 0);
infoText.x = window.innerWidth / 2;
infoText.y = 20;
app.stage.addChild(infoText);

// Resize function
function resizeCanvas() {
  const w = window.innerWidth;
  const h = window.innerHeight;
  app.renderer.resize(w, h);
  infoText.text = `ðŸªŸ Actual game window size: ${w} Ã— ${h}`;
  infoText.x = w / 2;
  infoText.style.wordWrapWidth = w - 40;
}

window.addEventListener('resize', resizeCanvas);
window.addEventListener('orientationchange', resizeCanvas);
window.addEventListener('load', resizeCanvas);

// Gesture instruction: click the button
document.getElementById('fullscreen-btn').addEventListener('click', () => {
  const hint = document.getElementById('hint');
  hint.textContent = 'Now swipe up/down on the canvas to hide Safari bars.';
  // Optional: small scroll to trigger
  window.scrollTo(0,1);
  setTimeout(resizeCanvas, 50);
});
</script>
</body>
</html>
